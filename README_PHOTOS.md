# ‚úÖ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—É–Ω–∫—Ü—ñ—ó —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä—ñ–≤

## üìã –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### Backend

‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**
- –°—Ç–≤–æ—Ä–µ–Ω–æ –º–æ–¥–µ–ª—å `ProductPhoto` –∑ –ø–æ–ª—è–º–∏:
  - –∞—Ä—Ç–∏–∫—É–ª, file_path, file_size, original_size, photo_order
  - uploaded_by, uploaded_at, status (pending/approved/rejected)
  - moderated_by, moderated_at, rejection_reason
- –ú—ñ–≥—Ä–∞—Ü—ñ—è Alembic –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ `product_photos`

‚úÖ **API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏** (`webapp/routers/photos.py`)
- `POST /api/photos/upload` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ
- `GET /api/photos/product/{article}` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä—É
- `GET /api/photos/moderation/pending` - —Å–ø–∏—Å–æ–∫ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é
- `POST /api/photos/moderation/{photo_id}` - —Å—Ö–≤–∞–ª–µ–Ω–Ω—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è
- `DELETE /api/photos/{photo_id}` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–æ—Ç–æ

‚úÖ **–û–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å** (`webapp/utils/image_processing.py`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–æ ~500KB
- –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –¥–æ 1200px –ø–æ –±—ñ–ª—å—à—ñ–π —Å—Ç–æ—Ä–æ–Ω—ñ
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ JPEG –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—î—é
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é: `uploads/photos/{article}/photo_{order}.jpg`

### Frontend

‚úÖ **CSS —Å—Ç–∏–ª—ñ** (`webapp/static/css/photos.css`)
- –°—Ç—ñ–∫–µ—Ä –∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Ñ–æ—Ç–æ –Ω–∞ –∫–∞—Ä—Ç—Ü—ñ (–∑–æ–ª–æ—Ç–∏–π –≥—Ä–∞–¥—ñ—î–Ω—Ç)
- –§–æ—Ç–æ–≥–∞–ª–µ—Ä–µ—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º—É –≤—ñ–∫–Ω—ñ
- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ–∂ —Ñ–æ—Ç–æ (—Å—Ç—Ä—ñ–ª–∫–∏)
- –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ
- –°—Ç–∏–ª—ñ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó –¥–ª—è –∞–¥–º—ñ–Ω–∫–∏
- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

‚úÖ **JavaScript** (`webapp/static/js/photos.js`)
- `openModalWithPhotos()` - –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏ –∑ –≥–∞–ª–µ—Ä–µ—î—é
- `uploadPhoto()` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ File API
- `previousPhoto()` / `nextPhoto()` - –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
- `fullscreenPhoto()` - –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º
- `loadProductPhotos()` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ–æ—Ç–æ –∑ —Å–µ—Ä–≤–µ—Ä–∞
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Telegram Haptic Feedback

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

‚úÖ **–§–∞–π–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó**
- `PHOTO_FEATURE.md` - –ø–æ–≤–Ω–∏–π –æ–ø–∏—Å —Ñ—É–Ω–∫—Ü—ñ—ó
- `INTEGRATION_GUIDE.md` - –ø–æ–∫—Ä–æ–∫–æ–≤–∏–π –≥—ñ–¥ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- `README_PHOTOS.md` - –ø—ñ–¥—Å—É–º–æ–∫ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (—Ü–µ–π —Ñ–∞–π–ª)

## üì¶ –©–æ –¥–æ–¥–∞–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç

```
epicservice/
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ models.py                    # ‚úÖ –ú–æ–¥–µ–ª—å ProductPhoto
‚îú‚îÄ‚îÄ webapp/
‚îÇ   ‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ photos.py                # ‚úÖ API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ image_processing.py      # ‚úÖ –°—Ç–∏—Å–Ω–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
‚îÇ   ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ photos.css           # ‚úÖ –°—Ç–∏–ª—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ photos.js            # ‚úÖ JavaScript
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ uploads/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ photos/              # üìÅ –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–ª—è —Ñ–æ—Ç–æ
‚îÇ   ‚îî‚îÄ‚îÄ temp_files/                  # üìÅ –¢–∏–º—á–∞—Å–æ–≤—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ alembic/
‚îÇ   ‚îî‚îÄ‚îÄ versions/
‚îÇ       ‚îî‚îÄ‚îÄ add_product_photos.py    # ‚úÖ –ú—ñ–≥—Ä–∞—Ü—ñ—è –ë–î
‚îú‚îÄ‚îÄ requirements.txt                 # ‚úÖ +Pillow
‚îú‚îÄ‚îÄ PHOTO_FEATURE.md                 # ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ INTEGRATION_GUIDE.md             # ‚úÖ –ì—ñ–¥ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
‚îî‚îÄ‚îÄ README_PHOTOS.md                 # ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫
```

## üîß –©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏ –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

### 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```bash
pip install -r requirements.txt
```

### 2. –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é
```bash
alembic upgrade head
```

### 3. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ —Ä–æ—É—Ç–µ—Ä –≤ `webapp/api.py`
```python
from webapp.routers import photos
app.include_router(photos.router)
```

### 4. –û–Ω–æ–≤–∏—Ç–∏ `index.html`
–î–æ–¥–∞—Ç–∏ –¥–æ `<head>`:
```html
<link rel="stylesheet" href="/static/css/photos.css">
```

–î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–¥ `</body>`:
```html
<script src="/static/js/photos.js"></script>
```

### 5. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥
–î–∏–≤. –¥–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤ `INTEGRATION_GUIDE.md`

## üéØ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- üì∑ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ 3 —Ñ–æ—Ç–æ –Ω–∞ —Ç–æ–≤–∞—Ä
- üñºÔ∏è –§–æ—Ç–æ–≥–∞–ª–µ—Ä–µ—è –∑ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é
- üîç –ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥
- üì± –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫–∞–º–µ—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- ‚ö° –®–≤–∏–¥–∫–µ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è (–∞–≤—Ç–æ–º–∞—Ç)

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü—ñ—è —Ñ–æ—Ç–æ (—Å—Ö–≤–∞–ª–µ–Ω–Ω—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è)
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å
- üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–æ—Ç–æ
- üëÅÔ∏è –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∞–≤—Ç–æ—Ä—ñ–≤

## üîê –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö —Ñ–æ—Ç–æ –ø–µ—Ä–µ–¥ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—î—é
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è (–∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤)
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –û–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ —Ä–æ–∑–º—ñ—Ä (–º–∞–∫—Å 10MB)
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å

## üìä –¢–µ—Ö–Ω—ñ—á–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

- **–ú–∞–∫—Å. —Ñ–æ—Ç–æ –Ω–∞ —Ç–æ–≤–∞—Ä:** 3
- **–ú–∞–∫—Å. —Ä–æ–∑–º—ñ—Ä –æ—Ä–∏–≥—ñ–Ω–∞–ª—É:** 10MB
- **–¶—ñ–ª—å–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä –ø—ñ—Å–ª—è —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è:** ~500KB
- **–ú–∞–∫—Å. —Ä–æ–∑–º—ñ—Ä —Å—Ç–æ—Ä–æ–Ω–∏:** 1200px
- **–§–æ—Ä–º–∞—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:** JPEG (–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π)
- **–Ø–∫—ñ—Å—Ç—å:** 50-95% (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ)

## üöÄ –°—Ç–∞—Ç—É—Å

**–ì—ñ–ª–∫–∞:** `feature/product-photos`  
**–ö–æ–º—ñ—Ç–∏:** 9 —Ñ–∞–π–ª—ñ–≤ —Å—Ç–≤–æ—Ä–µ–Ω–æ  
**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å:** 100% (–≥–æ—Ç–æ–≤–æ –¥–æ –º–µ—Ä–¥–∂—É)

## üìù –ö–æ–º—ñ—Ç–∏

1. ‚úÖ Add ProductPhoto model for product images
2. ‚úÖ Add image compression utility
3. ‚úÖ Add photo upload and management API endpoints
4. ‚úÖ Add Alembic migration for product_photos table
5. ‚úÖ Add CSS styles for product photos
6. ‚úÖ Add JavaScript for photo gallery and upload
7. ‚úÖ Add Pillow dependency for image processing
8. ‚úÖ Add documentation for photo feature
9. ‚úÖ Add integration guide for photo feature

## üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è

- –ì—ñ–ª–∫–∞: [feature/product-photos](https://github.com/imeromua/epicservice/tree/feature/product-photos)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: [PHOTO_FEATURE.md](./PHOTO_FEATURE.md)
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è: [INTEGRATION_GUIDE.md](./INTEGRATION_GUIDE.md)

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** 21 –ª—é—Ç–æ–≥–æ 2026, 03:35 EET  
**–ê–≤—Ç–æ—Ä:** @imeromua
